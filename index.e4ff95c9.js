var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},t=e.parcelRequirefa48;null==t&&((t=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){n[e]=r},e.parcelRequirefa48=t);var i=t("knVcn"),a=t("hGVxz"),d=t("3bAln");const o=document.querySelector(".header-search-bar__input"),l=document.querySelector(".header-search-bar__button"),s=document.querySelector(".header-search-bar__warning"),c=document.querySelector(".cards-wrapper"),u=document.querySelector(".load-more");document.querySelector(".load-more-trending");let v=1;s.style.visibility="hidden";const p=async()=>{(0,d.spinner)();try{const e="https://api.themoviedb.org/3/search/movie",r=(await a.default.get(`${e}?api_key=dbea77d3eb5b3622b027f73f6a5032fe&query=${o.value}&page=${v}&language=en-US`)).data.results;return await(0,i.getGenres)(),(0,d.removeSpinner)(),r}catch(e){console.error(e)}finally{(0,d.spinner)()}},f=e=>(console.log("movies",e),e.map((e=>{const r=e.genre_ids.slice(0,3).map((e=>i.genreList[e])).join(", ");return`<div id="card" class="card"><img class="card__poster" src='https://image.tmdb.org/t/p/w500\n${e.poster_path}' alt='Poster of ${e.title} movie' data-id="${e.id}"></a>\n    <div class="card__info">\n      <div class="card__quick-info">\n        <div class="card__movie-title">${e.title}</div>\n        <div class="card__movie-genre">${r}</div>\n        <div class="card__movie-release">${e.release_date.slice(0,4)}</div>\n      </div>\n      <div class="card__movie-rating">${Math.round(10*e.vote_average)/10}</div>\n    </div>\n  </div>`})).join(""));l.addEventListener("click",(e=>{e.preventDefault(),v=1;document.querySelector(".load-more-trending").hidden=!0,document.querySelector(".load-more").hidden=!1;p().then((e=>{0===e.length?(c.innerHTML="",o.value="",s.style.visibility="visible"):(s.style.visibility="hidden",c.innerHTML=f(e))}))})),o.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),l.click())})),u.addEventListener("click",(e=>{v+=1,p().then((e=>{v+=1,c.insertAdjacentHTML("beforeend",f(e))}))}));
//# sourceMappingURL=index.e4ff95c9.js.map
