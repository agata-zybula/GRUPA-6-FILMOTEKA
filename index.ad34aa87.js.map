{"mappings":"ioBAAO,MAAMA,EAAkBC,GACtBA,EAAOC,QACXC,KAAIC,GACI,2GACLA,EAAMC,8BACWD,EAAME,gIAGUF,EAAME,uDACNF,EAAMG,sDACJH,EAAMI,2EAETC,KAAKC,MAA2B,GAArBN,EAAMO,cAAqB,mCAIzEC,KAAK,G,eChBV,IAAAC,EAAAC,EAAA,SAIA,MAQMC,EAAYC,SAASC,cAAc,kBAyBnBC,WACpB,MAAMjB,QAXCkB,MACL,iGAECC,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,GAASA,EAAKrB,UACpBsB,OAAOC,GAAUC,QAAQC,IAAIF,EAAMG,WAOhCC,QAlCCV,MACL,yGAECC,MAAMC,GAAaA,EAASC,SAC5BE,OAAOC,GAAUC,QAAQC,IAAIF,EAAMG,WA+BhCE,EAAuB7B,EAAOE,KAAKC,IACvC2B,OAzBqBC,EAyBL5B,EAAMG,GAxBjBY,MACL,sCAAsCa,6DAErCZ,MAAMC,GAAaA,EAASC,SAC5BE,OAAOC,GAAUC,QAAQC,IAAIF,EAAMG,WALhB,IAACI,CAyBG,IAE1BC,QAAQC,IAAIJ,GACTV,MAAMe,IACL,MAAMC,EAA0BD,EAAahC,KAAKkC,IAAiB,IAC9DA,EACHC,YAAaD,EAAYE,UAAUpC,KAChCqC,GACCX,EAAOA,OAAOY,MAAMC,GAAUA,EAAMnC,KAAOiC,IAASG,OAExDC,KAAM,IAAIC,KAAKR,EAAY7B,cAAcsC,kBAE3C/B,EAAUgC,WAAY,EAAAlC,EAAAmC,iBAAgBZ,EAAA,IAEvCZ,OAAOC,GAAUC,QAAQC,IAAIF,EAAMG,UAAO,EAG/CqB","sources":["src/js/create-movie-card.js","src/js/popular.js"],"sourcesContent":["export const createMovieCard = movies => {\n  return movies.results\n    .map(movie => {\n      return `<div id=\"card\" class=\"card\"><img class=\"card__poster\" src='https://image.tmdb.org/t/p/w220_and_h330_face${\n        movie.poster_path\n      }' alt=Poster of ${movie.title} movie></a>\n    <div class=\"card__info\">\n      <div class=\"card__quick-info\">\n        <div class=\"card__movie-title\">${movie.title}</div>\n        <div class=\"card__movie-genre\">${movie.id}</div>\n        <div class=\"card__movie-release\">${movie.release_date}</div>\n      </div>\n      <div class=\"card__movie-rating\">${Math.round(movie.vote_average * 10) / 10}</div>\n    </div>\n  </div>`;\n    })\n    .join('');\n};\n","import { createMovieCard } from './create-movie-card';\n\n\n// funkcja do pobrania listy gatunków filmowych za pomocą interfejsu API The Movie Database (TMDb).\nconst getGenres = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=fe36e1a920a96782eff1e1dab760f0ae&language=en-US`\n  )\n    .then((response) => response.json())\n    .catch((error) => console.log(error.message));\n};\n\nconst galleryEl = document.querySelector('.cards-wrapper');\n\n\n// funkcja do pobierania szczegółów filmu za pomocą interfejsu API TMDb.\nconst getMovieDetails = (details) => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${details}?api_key=fe36e1a920a96782eff1e1dab760f0ae&language=en-US`\n  )\n    .then((response) => response.json())\n    .catch((error) => console.log(error.message));\n};\n\n\n// pobiera listę popularnych filmów\nconst getMovies = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/all/day?api_key=fe36e1a920a96782eff1e1dab760f0ae&page=1`\n  )\n    .then((response) => response.json())\n    .then((data) => data.results)\n    .catch((error) => console.log(error.message));\n};\n\n\n//  funkcja do pobierania danych filmu i tworzenia znaczników HTML\nconst createGallery = async () => {\n  const movies = await getMovies();\n  const genres = await getGenres();\n  const movieDetailsPromises = movies.map((movie) =>\n    getMovieDetails(movie.id)\n  );\n  Promise.all(movieDetailsPromises)\n    .then((movieDetails) => {\n      const moviesWithGenresAndYear = movieDetails.map((movieDetail) => ({\n        ...movieDetail,\n        genre_names: movieDetail.genre_ids.map(\n          (genreId) =>\n            genres.genres.find((genre) => genre.id === genreId).name\n        ),\n        year: new Date(movieDetail.release_date).getFullYear(),\n      }));\n      galleryEl.innerHTML = createMovieCard(moviesWithGenresAndYear);\n    })\n    .catch((error) => console.log(error.message));\n};\n\ncreateGallery();\n"],"names":["$ee4a85620965e803$export$9d27b867a89df126","movies","results","map","movie","poster_path","title","id","release_date","Math","round","vote_average","join","$kspUu","parcelRequire","$65d015308f60081e$var$galleryEl","document","querySelector","async","fetch","then","response","json","data","catch","error","console","log","message","genres","movieDetailsPromises","$65d015308f60081e$var$getMovieDetails","details","Promise","all","movieDetails","moviesWithGenresAndYear","movieDetail","genre_names","genre_ids","genreId","find","genre","name","year","Date","getFullYear","innerHTML","createMovieCard","$65d015308f60081e$var$createGallery"],"version":3,"file":"index.ad34aa87.js.map"}