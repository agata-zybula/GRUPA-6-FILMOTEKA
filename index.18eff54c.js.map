{"mappings":"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","sources":["src/js/header-home.js"],"sourcesContent":["import { genreList, getGenres } from './fetch-genres';\n\nimport axios from 'axios';\n\nconst inputEl = document.querySelector('.header-search-bar__input');\nconst searchButtonEl = document.querySelector('.header-search-bar__button');\nconst warningEl = document.querySelector('.header-search-bar__warning');\n// Pagination elements\nlet currentPage = 1;\nlet firstPage = 1;\nlet lastPage = 20;\nconst moviesPerPage = 10;\n\nconst currentPageButton = document.getElementById('current-page');\nconst arrowLeftButton = document.getElementById('arrow-left');\nconst arrowRightButton = document.getElementById('arrow-right');\nconst currentPageAddOneButton = document.getElementById('current-page+1');\nconst currentPageAddTwoButton = document.getElementById('current-page+2');\nconst currentPageMinusOneButton = document.getElementById('current-page-1');\nconst currentPageMinusTwoButton = document.getElementById('current-page-2');\nconst firstPageButton = document.getElementById('first-page');\nconst lastPageButton = document.getElementById('last-page');\nconst dots1El = document.getElementById('dots1');\nconst dots2El = document.getElementById('dots2');\nconst galleryEl = document.querySelector('.cards-wrapper');\n// ------------------------------------------------------------------------------------------\nconst API_key = 'dbea77d3eb5b3622b027f73f6a5032fe';\n\nwarningEl.style.visibility = 'hidden';\n\nconst getMoviesSearch = async () => {\n  try {\n    const searchMovieAPI_URL = 'https://api.themoviedb.org/3/search/movie';\n    const result = await axios.get(\n      `${searchMovieAPI_URL}?api_key=${API_key}&query=${inputEl.value}&page=${currentPage}&language=en-US`,\n    );\n\n    // console.log('response getMovies', result);\n    const movies = result.data.results;\n    // console.log('movies', movies);\n    await getGenres();\n\n    return movies;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst createMovieCardSearch = movies => {\n  // console.log('movies', movies);\n  return movies\n    .map(movie => {\n      const genreNames = movie.genre_ids\n        .slice(0, 3)\n        .map(genreId => genreList[genreId])\n        .join(', ');\n      return `<div id=\"card\" class=\"card\"><img class=\"card__poster\" src='https://image.tmdb.org/t/p/w220_and_h330_face${\n        movie.poster_path\n      }' alt=Poster of ${movie.title} movie data-id=\"${movie.id}\"></a>\n    <div class=\"card__info\">\n      <div class=\"card__quick-info\">\n        <div class=\"card__movie-title\">${movie.title}</div>\n        <div class=\"card__movie-genre\">${genreNames}</div>\n        <div class=\"card__movie-release\">${movie.release_date.slice(0, 4)}</div>\n      </div>\n      <div class=\"card__movie-rating\">${Math.round(movie.vote_average * 10) / 10}</div>\n    </div>\n  </div>`;\n    })\n    .join('');\n};\n\nsearchButtonEl.addEventListener('click', event => {\n  event.preventDefault();\n  getMoviesSearch().then(movies => {\n    // const movieData = movies;\n    // console.log('movieData', movieData);\n\n    if (movies.length === 0) {\n      galleryEl.innerHTML = '';\n      inputEl.value = '';\n      warningEl.style.visibility = 'visible';\n    } else {\n      warningEl.style.visibility = 'hidden';\n      galleryEl.innerHTML = createMovieCardSearch(movies);\n    }\n  });\n});\n\ninputEl.addEventListener('keypress', event => {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n    searchButtonEl.click();\n  }\n});\n\nconst updatePageSearch = () => {\n  getMoviesSearch().then(movies => {\n    // const movieData = movies;\n    // console.log('movieData', movieData);\n    warningEl.style.visibility = 'hidden';\n    galleryEl.innerHTML = createMovieCardSearchSearch(movies);\n  });\n  if (currentPage === 1) {\n    currentPageButton.innerHTML = currentPage;\n    arrowLeftButton.style.visibility = 'hidden';\n    currentPageAddOneButton.innerHTML = currentPage + 1;\n    currentPageAddTwoButton.innerHTML = currentPage + 2;\n    currentPageMinusOneButton.innerHTML = '';\n    currentPageMinusTwoButton.innerHTML = '';\n    dots1El.innerHTML = '';\n    dots2El.innerHTML = '...';\n    lastPageButton.innerHTML = lastPage;\n    firstPageButton.innerHTML = ``;\n  } else if (currentPage === 2) {\n    currentPageButton.innerHTML = currentPage;\n    arrowLeftButton.style.visibility = 'visible';\n    currentPageAddOneButton.innerHTML = currentPage + 1;\n    currentPageAddTwoButton.innerHTML = currentPage + 2;\n    currentPageMinusOneButton.innerHTML = currentPage - 1;\n    currentPageMinusTwoButton.innerHTML = ``;\n    firstPageButton.innerHTML = ``;\n    dots1El.innerHTML = '';\n  } else if (currentPage === 3) {\n    currentPageButton.innerHTML = currentPage;\n    currentPageMinusOneButton.innerHTML = currentPage - 1;\n    currentPageMinusTwoButton.innerHTML = currentPage - 2;\n    currentPageAddOneButton.innerHTML = currentPage + 1;\n    currentPageAddTwoButton.innerHTML = currentPage + 2;\n    firstPageButton.innerHTML = ``;\n    dots1El.innerHTML = '';\n  } else if (currentPage === 4) {\n    currentPageButton.innerHTML = currentPage;\n    currentPageMinusOneButton.innerHTML = currentPage - 1;\n    currentPageMinusTwoButton.innerHTML = currentPage - 2;\n    currentPageAddOneButton.innerHTML = currentPage + 1;\n    currentPageAddTwoButton.innerHTML = currentPage + 2;\n    dots1El.innerHTML = firstPage;\n    firstPageButton.innerHTML = ``;\n  } else if (currentPage >= 4) {\n    currentPageButton.innerHTML = currentPage;\n    currentPageAddOneButton.innerHTML = currentPage + 1;\n    currentPageAddTwoButton.innerHTML = currentPage + 2;\n    currentPageMinusOneButton.innerHTML = currentPage - 1;\n    currentPageMinusTwoButton.innerHTML = currentPage - 2;\n    dots1El.innerHTML = '...';\n    dots2El.innerHTML = '...';\n    firstPageButton.innerHTML = firstPage;\n    lastPageButton.innerHTML = lastPage;\n  }\n};\n\nconst handlePageUpdate = increment => {\n  currentPage += increment;\n  updatePageSearch();\n};\n\nconst handleFirstPage = () => {\n  currentPage = firstPage;\n  updatePageSearch();\n};\n\nconst handleLastPage = () => {\n  currentPage = lastPage;\n  updatePageSearch();\n};\n\nfirstPageButton.addEventListener('click', e => {\n  e.preventDefault();\n  handleFirstPage();\n});\n\nlastPageButton.addEventListener('click', e => {\n  e.preventDefault();\n  arrowLeftButton.style.visibility = 'visible';\n  handleLastPage();\n});\n\narrowLeftButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(-1);\n});\ncurrentPageMinusOneButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(-1);\n});\n\narrowRightButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(1);\n});\ncurrentPageAddOneButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(1);\n});\n\ncurrentPageMinusTwoButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(-2);\n});\ncurrentPageAddTwoButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(2);\n});\n\ncurrentPageAddTwoButton.addEventListener('click', e => {\n  e.preventDefault();\n  handlePageUpdate(2);\n});\n"],"names":["$knVcn","parcelRequire","$9a5745b8d2152452$var$inputEl","document","querySelector","$9a5745b8d2152452$var$searchButtonEl","$9a5745b8d2152452$var$warningEl","$9a5745b8d2152452$var$currentPage","$9a5745b8d2152452$var$currentPageButton","getElementById","$9a5745b8d2152452$var$arrowLeftButton","$9a5745b8d2152452$var$arrowRightButton","$9a5745b8d2152452$var$currentPageAddOneButton","$9a5745b8d2152452$var$currentPageAddTwoButton","$9a5745b8d2152452$var$currentPageMinusOneButton","$9a5745b8d2152452$var$currentPageMinusTwoButton","$9a5745b8d2152452$var$firstPageButton","$9a5745b8d2152452$var$lastPageButton","$9a5745b8d2152452$var$dots1El","$9a5745b8d2152452$var$dots2El","$9a5745b8d2152452$var$galleryEl","style","visibility","$9a5745b8d2152452$var$getMoviesSearch","async","searchMovieAPI_URL","movies","$hGVxz","default","get","value","data","results","getGenres","error","console","addEventListener","event","preventDefault","then","length","innerHTML","map","movie","genreNames","genre_ids","slice","genreId","genreList","join","poster_path","title","id","release_date","Math","round","vote_average","$9a5745b8d2152452$var$createMovieCardSearch","key","click","$9a5745b8d2152452$var$updatePageSearch","createMovieCardSearchSearch","$9a5745b8d2152452$var$handlePageUpdate","increment","e"],"version":3,"file":"index.18eff54c.js.map"}