var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=e.parcelRequirefa48;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var i=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,i.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequirefa48=i);var n=i("knVcn"),a=i("hGVxz");const d=document.querySelector(".header-search-bar__input"),s=document.querySelector(".header-search-bar__button"),o=document.querySelector(".header-search-bar__warning"),l=document.querySelector(".cards-wrapper");let c=1;o.style.visibility="hidden";const v=async()=>{try{const e="https://api.themoviedb.org/3/search/movie",t=(await a.default.get(`${e}?api_key=dbea77d3eb5b3622b027f73f6a5032fe&query=${d.value}&page=${c}&language=en-US`)).data.results;return await(0,n.getGenres)(),t}catch(e){console.error(e)}},u=e=>e.filter((e=>e.title.toLowerCase().includes(d.value.toLowerCase()))).map((e=>{const t=e.genre_ids.slice(0,3).map((e=>n.genreList[e])).join(", ");return`<div id="card" class="card"><img class="card__poster" src='https://image.tmdb.org/t/p/w500${e.poster_path}' alt='Poster of ${e.title} movie' data-id="${e.id}"></a>\n    <div class="card__info">\n      <div class="card__quick-info">\n        <div class="card__movie-title">${e.title}</div>\n        <div class="card__movie-genre">${t}</div>\n        <div class="card__movie-release">${e.release_date.slice(0,4)}</div>\n      </div>\n      <div class="card__movie-rating">${Math.round(10*e.vote_average)/10}</div>\n    </div>\n  </div>`})).join(""),p=async()=>{l.innerHTML="",c=1;const e=await v();0===e.length?o.style.visibility="visible":(o.style.visibility="hidden",l.innerHTML=u(e))};s.addEventListener("click",(e=>{e.preventDefault(),p()})),d.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),p())}));window.addEventListener("scroll",(()=>{const{scrollTop:e,clientHeight:t,scrollHeight:r}=document.documentElement;e+t>=r&&v().then((e=>{c+=1,l.insertAdjacentHTML("beforeend",u(e))}))}));
//# sourceMappingURL=index.20954a6c.js.map
